<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

	<title>Freebie Magnet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="assets/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	<link rel="stylesheet" type="text/css" href="mapstyle.css" />

	<style>
		/* Always set the map height explicitly to define the size of the div
       * element that contains the map. */

		#description {
			font-family: Roboto;
			font-size: 15px;
			font-weight: 300;
		}

		#infowindow-content .title {
			font-weight: bold;
		}

		#infowindow-content {
			display: none;
		}

		#map #infowindow-content {
			display: inline;
		}

		#pac-container {
			padding-bottom: 12px;
			margin-right: 12px;
		}

		.pac-controls {
			display: inline-block;
			padding: 5px 11px;
		}

		.pac-controls label {
			font-family: Roboto;
			font-size: 13px;
			font-weight: 300;
		}

		#pac-input {
			background-color: #fff;
			font-family: Roboto;
			font-size: 15px;
			font-weight: 300;
			margin-left: 12px;
			padding: 0 11px 0 13px;
			text-overflow: ellipsis;
			width: 400px;
		}

		#pac-input:focus {
			border-color: #4d90fe;
		}

		#title {
			color: #fff;
			background-color: #4d90fe;
			font-size: 25px;
			font-weight: 500;
			padding: 6px 12px;
		}
	</style>

</head>
<!-- get firebase-->

<script src="https://www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>
<script>
	// Initialize Firebase
	var config = {
		apiKey: "AIzaSyAh9cdqEsSWOKYvldF2oWqYa2ghXRAcKfg",
		authDomain: "freebie-e7139.firebaseapp.com",
		databaseURL: "https://freebie-e7139.firebaseio.com",
		projectId: "freebie-e7139",
		storageBucket: "freebie-e7139.appspot.com",
		messagingSenderId: "667636346966"
	};
	firebase.initializeApp(config);
</script>

<body>

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header" class="alt">
			<span class="logo"><img src="images/logo.svg" alt="" /></span>
			<h1>Freebie Magnet</h1>
			<p>Find free stuff near you :)<br/>
		</header>

		<!-- Nav -->
		<nav id="nav">
			<ul>
				<li><a href="#intro" class="active">Introduction</a></li>
				<li><a href="#first">Map</a></li>
				<li><a href="#second">Events</a></li>
				<li><a href="#cta">Host an Event</a></li>
			</ul>
		</nav>

		<!-- Main -->
		<div id="main">

			<!-- Introduction -->
			<section id="intro" class="main">
				<div class="spotlight">
					<div class="content">
						<header class="major">
							<h2>Free Stuff - 'nuff said</h2>
						</header>
						<p>Enter your location and find events with free giveaways near you.</p>
						<ul class="actions">
							<li><a href="generic.html" class="button">Learn More</a></li>
						</ul>
					</div>
					<span class="image"><img src="images/pic01.jpg" alt="" /></span>
				</div>
			</section>

			<!-- First Section -->
			<section id="first" class="main special">

				<header class="major">
					<h2>Map</h2>
				</header>

				<input style="margin-bottom:2em; width: 97%" ; type="text" id="pac-input" placeholder="Search for location..">

				<div id="map"></div>
				<script type="text/javascript" src="map.js"></script>
				<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>

				<script>
					// This example requires the Places library. Include the libraries=places
					// parameter when you first load the API. For example:
					// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

					function initMap() {
						var map = new google.maps.Map(document.getElementById('map'), {
							center: {
								lat: 39.2556129,
								lng: -76.71097509999998
							},
							zoom: 13
						});

						var input = document.getElementById('pac-input');

						var autocomplete = new google.maps.places.Autocomplete(input);

						// Bind the map's bounds (viewport) property to the autocomplete object,
						// so that the autocomplete requests use the current map bounds for the
						// bounds option in the request.
						autocomplete.bindTo('bounds', map);

						var marker = new google.maps.Marker({
							map: map,
							anchorPoint: new google.maps.Point(0, -29)
						});

						autocomplete.addListener('place_changed', function() {
							marker.setVisible(false);
							var place = autocomplete.getPlace();

							if (!place.geometry) {
								window.alert("No details available for input: '" + place.name + "'");
								return;
							}

							// If the place has a geometry, then present it on a map.
							if (place.geometry.viewport) {
								map.fitBounds(place.geometry.viewport);
							} else {
								map.setCenter(place.geometry.location);
								map.setZoom(17); // Why 17? Because it looks good.
							}
							marker.setPosition(place.geometry.location);
							marker.setVisible(true);
						});
					} ===
					===
					=
					marker.setVisible(false);
					var place = autocomplete.getPlace();

					if (!place.geometry) {
						window.alert("No details available for input: '" + place.name + "'");
						return;
					}

					// If the place has a geometry, then present it on a map.
					if (place.geometry.viewport) {
						map.fitBounds(place.geometry.viewport);
					} else {
						map.setCenter(place.geometry.location);
						map.setZoom(17); // Why 17? Because it looks good.
					}
					marker.setPosition(place.geometry.location);
					marker.setVisible(true);
					});
					} >>>
					>>>
					>
					393818 d36a9d08daeaaa0c22c1700194a4b98d45
				</script>
				<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3o57G1olSN-zpVPmq34BfcGqRVBEXZ3M&libraries=places&callback=initMap" async defer></script>
			</section>

			<!-- Second Section -->
			<section id="second" class="main special">

				<header class="major">
					<h2>Event List</h2>

					<p id="toChange">yes</p>

					<script>
						var query = firebase.database().ref("all users").orderByKey();
						query.once("value")
							.then(function(snapshot) {
								snapshot.forEach(function(childSnapshot) {

									//   	var query2 = firebase.database().ref(childSnapshot.key).orderByKey();
									// query2.once("value")
									//   .then(function(snapshot2) {
									//     snapshot2.forEach(function(childSnapshot2) {


									//       // key will be "ada" the first time and "alan" the second time
									//       var key2 = childSnapshot2.key;
									//       console.log(key2);
									//       // childData will be the actual contents of the child
									//       var childData = childSnapshot.val();
									//       // console.log(childData);
									//   });
									// });

									// key will be "ada" the first time and "alan" the second time
									var key = childSnapshot.key;
									// console.log(key);
									// childData will be the actual contents of the child
									var childData = childSnapshot.val();

									console.log(childData);

									// console.log(childData);
								});
							});
					</script>

					<footer class="major">
						<ul class="actions">
							<li><a href="generic.html" class="button">Learn More</a></li>
						</ul>
					</footer>
			</section>

			<!-- Get Started -->
			<section id="cta" class="main special">
				<header class="major">
					<h2>Login</h2>
					<p>Organizers: Login Below!</p>
				</header>
				<footer class="major">

					<input id="email" type="email" class="validate">
					<label for="email">Email</label>
					<br />
					<input id="password" type="password" class="validate">
					<label for="password">Password</label>

					<ul class="actions">
						<li><button id="register" class="button special">Register</button></li>
						<li><button id="signin" class="button special">Sign In</button></li>
					</ul>

				</footer>
			</section>

		</div>

		<!-- Footer -->

		<footer id="footer">
			<p class="copyright">&copy; FreebieMagnet. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
		</footer>

	</div>

	<!-- Scripts -->
	<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
	//
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/skel.min.js"></script>
	<script src="assets/js/util.js"></script>
	<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
	<script src="assets/js/main.js"></script>

	<!--firebase script-->
	<script>
		var createAccount = function(email, password) {
			firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
				// Handle Errors here.
				var errorCode = error.code;
				var errorMessage = error.message;
				console.error(errorCode, errorMessage)
			});
		}

		var signin = function(email, password) {
			firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
				// Handle Errors here.
				var errorCode = error.code;
				var errorMessage = error.message;
				console.error(errorCode, errorMessage)
			});
		}

		firebase.auth().onAuthStateChanged(function(user) {
			if (user) {
				console.log(user);
			} else {
				console.error("No user signed in");
			}
		});

		$(document).ready(function() {
			$("#register").click(function(e) {
				e.preventDefault();
				var email = $("#email").val();
				var password = $("#password").val();
				if (email && password) {
					createAccount(email, password);
				}
			});
			$("#signin").click(function(e) {
				e.preventDefault();
				var email = $("#email").val();
				var password = $("#password").val();
				if (email && password) {
					signin(email, password);
				}
			});
		});
	</script>


</body>

</html>
